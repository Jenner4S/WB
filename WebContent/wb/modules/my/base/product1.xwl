{"hidden":true,"children":[{"configs":{"itemId":"module"},"expanded":true,"children":[{"configs":{"layout":"fit","itemId":"viewport1"},"expanded":true,"children":[{"configs":{"itemId":"grid1","hidden":"true","editable":"true","region":"center","height":"500"},"expanded":false,"children":[{"configs":{"itemId":"tbar"},"expanded":true,"children":[{"configs":{"itemId":"newBtn","tooltip":"添加新的记录","text":"添加","iconCls":"record_add_icon"},"expanded":false,"children":[],"type":"item","events":{"click":"Wb.addEdit(app.grid1);"}},{"configs":{"itemId":"delBtn","tooltip":"删除选择的记录","text":"删除","iconCls":"record_delete_icon"},"expanded":false,"children":[],"type":"item","events":{"click":"/*\n建议使用此方法：*/\nWb.del(app.grid1, {\n  url: 'm?xwl=my/base/product/delete1',\n  titleField: 'id'\n});\n\n"}},{"configs":{"itemId":"item1","text":"-"},"expanded":false,"children":[],"type":"item"},{"configs":{"itemId":"saveBtn","tooltip":"保存所有的更改","text":"保存","iconCls":"save_icon"},"expanded":false,"children":[],"type":"item","events":{"click":"if (!Wb.verifyGrid(app.grid1)) //验证数据是否合法\n  return;\nWb.sync({\n  grid: app.grid1,\n  url: 'm?xwl=my/base/product/save',\n  message: '正在保存中...',\n  success: function(resp) {\n    app.store.commitChanges(); //如果存在多个store可以设置normalName属性或通过app.grid.store方式找到对象\n    Wb.toast('数据保存成功。');\n  }\n});"}}],"type":"toolbar"},{"configs":{"itemId":"store","autoLoad":"true","url":"m?xwl=my/base/product/select"},"expanded":false,"children":[],"type":"store"},{"configs":{"itemId":"columns"},"expanded":true,"children":[{"configs":{"itemId":"rowNumCol","xtype":"rownumberer"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"IDCol","hidden":"true","dataIndex":"id"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"nameCol","hidden":"true","dataIndex":"name","width":"150","text":"名称"},"expanded":false,"children":[{"configs":{"allowBlank":"true","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"FIN_P_NCol","dataIndex":"FIN_P_N","width":"100","text":"零件号"},"expanded":false,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"SUB_FIN_P_NCol","dataIndex":"SUB_FIN_P_N","width":"100","text":"子零件"},"expanded":true,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"FIN_P_N_REVCol","dataIndex":"FIN_P_N_REV","width":"100","text":"零件版本"},"expanded":false,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"RAW_P_NCol","dataIndex":"RAW_P_N","width":"100","text":"毛坯号"},"expanded":false,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"RAW_P_N_REVCol","dataIndex":"RAW_P_N_REV","width":"100","text":"毛坯版本"},"expanded":false,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"FIN_DWGCol","dataIndex":"FIN_DWG","width":"100","text":"成品图纸"},"expanded":false,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"FIN_DWG_REVCol","dataIndex":"FIN_DWG_REV","width":"100","text":"图纸版本"},"expanded":false,"children":[{"configs":{"allowBlank":"false","itemId":"editor"},"expanded":false,"children":[],"type":"text"}],"type":"column"},{"configs":{"itemId":"typCol","dataIndex":"typ","width":"80","text":"类型"},"expanded":true,"children":[{"configs":{"allowBlank":"false","itemId":"editor","keyName":"product_type","displayField":"V","valueField":"V"},"expanded":false,"children":[],"type":"combo"}],"type":"column"},{"configs":{"itemId":"remarkCol","dataIndex":"ext1","flex":"1","text":"产品描述一"},"expanded":false,"children":[{"configs":{"itemId":"editor","height":"80"},"expanded":false,"children":[],"type":"textarea"}],"type":"column"},{"configs":{"itemId":"remarkCol1","dataIndex":"ext2","flex":"1","text":"产品描述二"},"expanded":false,"children":[{"configs":{"itemId":"editor","height":"80"},"expanded":false,"children":[],"type":"textarea"}],"type":"column"},{"configs":{"itemId":"remarkCol2","dataIndex":"ext3","flex":"1","text":"产品描述三"},"expanded":false,"children":[{"configs":{"itemId":"editor","height":"80"},"expanded":false,"children":[],"type":"textarea"}],"type":"column"},{"configs":{"itemId":"remarkCol3","dataIndex":"ext4","flex":"1","text":"产品描述四"},"expanded":false,"children":[{"configs":{"itemId":"editor","height":"80"},"expanded":false,"children":[],"type":"textarea"}],"type":"column"}],"type":"array"}],"type":"grid"},{"configs":{"itemId":"tree1","title":"树表格","tools":"Wb.getTreeTools()","rootVisible":"false"},"expanded":true,"children":[{"configs":{"itemId":"store","url":"m?xwl=examples/controls/tree/data-source/tree-select"},"expanded":false,"children":[],"type":"treestore","events":{"beforeload":"var node = operation.node;\noperation.params.parentDept = node.isRoot() ? -1 : operation.node.data.DEPT_ID;"}},{"configs":{"itemId":"viewConfig","markDirty":"false"},"expanded":false,"children":[],"type":"tableview"},{"configs":{"itemId":"columns"},"expanded":true,"children":[{"configs":{"itemId":"deptNameCol","xtype":"treecolumn","dataIndex":"text","width":"300","text":"部门名称"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"deptIdCol","dataIndex":"DEPT_ID","width":"130","text":"部门编号"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"checkCol","xtype":"checkcolumn","dataIndex":"DONE_CHECK","menuDisabled":"true","width":"70","text":"完成"},"expanded":false,"children":[],"type":"column"},{"configs":{"itemId":"actionCol","handler":"Wb.info('你正在编辑部门\u201c' + record.data.text + '\u201d。');","xtype":"actioncolumn","width":"70","tooltip":"编辑","isDisabled":"return !record.data.leaf;","text":"编辑","align":"center","iconCls":"db_form_edit_icon"},"expanded":false,"children":[],"type":"column"}],"type":"array"}],"type":"tree"}],"type":"viewport"}],"type":"module"}],"roles":{"default":1,"manager":1,"user":1,"demo":1},"title":"产品维护1","iconCls":"","inframe":false,"pageLink":""}