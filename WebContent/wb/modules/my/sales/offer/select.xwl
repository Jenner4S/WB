{"hidden":false,"children":[{"configs":{"itemId":"module","serverScript":"LogUtil.info(request,\"offer_list query.\");\nvar sql, offerData,  params = app.get();\n\nsql = \"SELECT offer.ID, offer.QUOTE_NO, offer.QUOTE_DATE, offer.SALES_PERSON, offer.SALES_PERSON_ID, offer.RFQ_REF, offer.RFQ_DATE, \"+\n  \"offer.RFQ_NOTES, offer.CUST_ID, offer.CUST, offer.CUST_BUYER, offer.FIN_P_N, offer.FIN_P_N_REV, offer.PART_LONG_DESC, offer.QTY,  \"+\n  \"offer.UOM, offer.FIN_PT_EST_WT, offer.FIN_DWG, offer.FIN_DWG_REV, offer.RAW_P_N, offer.RAW_P_N_REV, offer.MAT_L_SPEC_REV, offer.MAT_L_GRADE, \"+ \n  \"offer.MAT_L_MYS, offer.MAT_L_SIZE, offer.FORGING_WT, offer.FORGING_UNIT_PRICE, offer.FORGING_COST, offer.FORGING_SUPPLIER, offer.HT_WT, \"+ \n  \"offer.HT_UNIT_PRICE, offer.H_T_COST, offer.QTC_COST, offer.TESTING_COST, offer.TOTAL_RAW_COST, offer.RAW_TPI, offer.CERT_COST_3_2, \"+ \n  \"offer.M_C_COST, offer.SPECIAL_M_C_COST, offer.WELDING_COST, offer.WPS_COST, offer.NDE_COST, offer.FUNCT_TEST_COST, offer.TPI_COST, \"+ \n  \"offer.COATING_COST, offer.PKG_COST, offer.FRT_COST, offer.UNIT_COST_INCL_17_VAT, offer.UNIT_COST_EXCL_17_VAT, offer.MARGING, \"+ \n  \"offer.SHIPPING_COST, offer.INCOTERMS, offer.OFFER_EXCL_17_VAT, offer.EXCHANGE_RATE, offer.OFFER, offer.LEAD_TIME, offer.OFFER_NOTES, \"+ \n  \"offer.CREATOR, offer.CREATER_TIME, offer.UPDATOR, offer.UPDATE_TIME, offer.DEL \"+ \n\"FROM t_bus_offer_list offer \"+\n\"LEFT JOIN t_bus_product pro on pro.FIN_P_N = offer.FIN_P_N \"; \nsql += \" where offer.DEL='N' \";\nif (!Wb.isEmpty(params.QUOTE_NO)) {\n  sql += \" and offer.QUOTE_NO  like {?QUOTE_NO?}\";\n}\nif (!Wb.isEmpty(params.CUST)) {\n  sql += \" and offer.CUST  = {?CUST?}\";\n}\nif (!Wb.isEmpty(params.CUST_BUYER)) {\n  sql += \" and offer.CUST_BUYER  like {?CUST_BUYER?}\";\n}\nif (!Wb.isEmpty(params.QUOTE_DATE)) {\n  sql += \" and offer.QUOTE_DATE  = {?QUOTE_DATE?}\";\n}\nif (!Wb.isEmpty(params.SALES_PERSON)) {\n  sql += \" and offer.SALES_PERSON_ID  like {?SALES_PERSON?}\";\n}\nif (!Wb.isEmpty(params.RFQ_REF)) {\n  sql += \" and offer.RFQ_REF  like {?RFQ_REF?}\";\n}\nif (!Wb.isEmpty(params.RFQ_DATE)) {\n  sql += \" and offer.RFQ_DATE  = {?RFQ_DATE?}\";\n}\nif (!Wb.isEmpty(params.FIN_P_N)) {\n  sql += \" and offer.FIN_P_N  = {?FIN_P_N?}\";\n}\n\nif(!Wb.isEmpty(params.DESC)){\n  sql +=\" and (pro.ext1 like '{?DESC?}%' or pro.ext2 like '{?DESC?}%' or pro.ext3 like '{?DESC?}%' or pro.ext4 like '{?DESC?}%')\";\n}\n\nsql += \" order by offer.QUOTE_NO desc\";\nofferData = app.getData(sql, {\n  dictTableNames: 't_bus_offer_list'\n});\n\napp.send(offerData);"},"expanded":true,"children":[],"type":"module"}],"roles":{"manager":1,"demo":1,"user":1},"title":"查询","iconCls":"","inframe":false,"pageLink":""}