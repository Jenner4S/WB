{"hidden":true,"children":[{"configs":{"itemId":"module","serverScript":"var sql, productData,  params = app.get();\nsql = \"SELECT B.FIN_P_N,B.FIN_P_N_REV,\"+\n\"\tifnull(offer.QTY,0) as QTY,\"+\n\"\tconvert(ifnull(offer.UNIT_COST_EXCL_17_VAT,0),decimal(10,2)) as 'UnitPrice',\"+\n\"\tconvert(ifnull(offer.UNIT_COST_EXCL_17_VAT*QTY,0),decimal(10,2)) as 'TotalPrice',\"+\n\"\toffer.OFFER_NOTES as NOTES\"+\n\"\tfrom t_bus_product A \"+\n\"\tLEFT JOIN t_bus_product B ON find_in_set(B.id,A.SUB_FIN_P_N_IDS)\"+\n\"\tLEFT JOIN t_bus_offer_list offer ON offer.FIN_P_N = B.FIN_P_N\";\n\nif (!Wb.isEmpty(params.FIN_P_N)) {\n  sql += \" where A.FIN_P_N='\"+params.FIN_P_N+\"' \";\n}\n\n//sql += \" order by FIN_P_N desc\";\nproductData = app.getData(sql, {\n  dictTableNames: 't_bus_product'\n});\n\napp.send(productData);"},"expanded":true,"children":[],"type":"module"}],"roles":{"default":1,"manager":1,"user":1},"title":"","iconCls":"","inframe":false,"pageLink":""}